# Техническое описание логики программы

## Инициализация
В начале программы инициализируются два боковых оптических сенсора — левый и правый. Оба переводятся в режим распознавания цвета. Это необходимо для того, чтобы сенсоры могли различать объекты по цвету в поле зрения.

Затем задаётся скорость движения: мотор, отвечающий за приведение в движение задних колёс, настраивается на мощность 30%. Это обеспечивает плавное и контролируемое передвижение робота. После установки параметров задаётся пауза в 0.5 секунды — чтобы система стабилизировалась и успела полностью перейти в рабочий режим.

Переход к пользовательскому блоку «Наход»
Далее вызывается пользовательский блок под названием «наход», отвечающий за обработку ситуаций с обнаружением объектов красного и зелёного цвета. Этот блок подключён в основной логике после этапа инициализации, чтобы управление сразу переходило к анализу окружения.

## Логика блока «Наход»
Блок работает в бесконечном цикле всегда и реализует базовую конструкцию если / иначе.

Если один из боковых оптических сенсоров (левый или правый) фиксирует наличие объекта:

Останавливаются задние мотор.

Воспроизводится звуковой сигнал (звук сирена) — он служит вспомогательным средством во время отладки, позволяя отслеживать действия робота.

Следует пауза в 0.5 секунды.

После этого запускается проверка цвета:

Если один из сенсоров распознаёт зелёный цвет — вызывается пользовательский блок «объезд слева», так как зелёные объекты предусмотрено обходить с левой стороны.

В иначе прии условии что оптикулы видят перед собой объект но это не зеленый выполняется иначе, так как объект есть но не зеленый означает видит красный (наши оптические датчики не способны видить красный изза чего нам пришлось испровизиировать) — активируется блок «объезд справа».

Если не подпадает под условия, то воспроизводится звук выключения фар, и управление переходит в блок «Стены».

## Блоки «Объезд слева» и «Объезд справа»
Оба блока реализуют зеркальные процедуры объезда препятствий. Алгоритм построен на основе простых угловых манёвров: робот отъезжает назад, затем выполняет поворот на определённый угол. Все действия выполняются без использования дополнительных датчиков и не зависят от внешних условий.

 ## Блок «Стены»
Данный блок предназначен для анализа показаний с боковых и фронтального датчиков расстояния. В нём последовательно обрабатываются следующие ситуации:

1. Если датчик расстояния справа видит > 900мм или значение не входящее в <850мм то это значит что робот находится в поворотной зоне и обязан повернуть на 90градусов
2. Срочные манёвры при риске столкновения
Если предыдущее условие неверное то происходит следубщее если расстояние до левого бокового сенсора меньше 200 мм — выполняется резкий поворот вправо.

Если расстояние до правого бокового сенсора меньше 200 мм — выполняется резкий поворот влево.

Оба действия направлены на экстренное уклонение от стен по бокам. После каждого манёвра вставлена короткая задержка в 0.2 секунды, чтобы избежать перегрузки управляющей логики.

3. Коррекция положения (выравнивание)
Если расстояние до левого бокового сенсора превышает 600 мм, воспроизводится звуковой сигнал (например, сирена), и робот выполняет выравнивание вправо.

Если расстояние до правого бокового сенсора превышает 600 мм, осуществляется выравнивание влево.

Такое выравнивание необходимо чтобы робот находился примерно в центре коридоров чтобы ровно объезжать препядствия с цветами

Коррекция происходит по фиксированному углу, без задействования дополнительных сенсоров. После каждого выравнивания также предусмотрена пауза 0.2 секунды.

4. Обнаружение препятствия спереди
Если фронтальный датчик фиксирует объект на расстоянии менее 200 мм — робот немедленно отъезжает назад, чтобы избежать столкновения.

5. Иначе
Если ни одно из условий не выполняется, робот следует стандартному сценарию:

Воспроизводится звук закрытия двери.

Задние моторы запускаются в режиме непрерывного движения вперёд до тех пор, пока не сработает одно из вышеописанных условий.
